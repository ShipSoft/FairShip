<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FairShip: Changelog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FairShip
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_CHANGELOG.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Changelog</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> All notable changes to this project will be documented in this file.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.1.0/">Keep a Changelog</a>, and this project adheres to Calendar Versioning (year.month), with the possibility of patch releases (year.month.patch).</p>
<p>Until April 2024 (inclusive) no changelog was kept. We might try to reconstruct it in future.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Unreleased</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Added</h2>
<ul>
<li>feat(python): Add experimental script to compare histograms</li>
<li>feat(python): Add experimental script to check overlaps quickly</li>
<li><b>Corrections in MuonDIS simulation</b> The DIS interactions are now time-shifted to be consistent with the original incoming muon. Additionally, tracks from soft interactions of the original muon along with the muon's veto response are preserved (in muonDis.root) and included up to the DIS interaction point. To be noted that the muon veto points are manually added using <a class="el" href="add__muonresponse_8py.html">add_muonresponse.py</a>, which modifies the simulation file. This replaces the old method of "backward-travelling muon" to generate the incoming muon's veto response. All MuonDIS simulation scripts have been updated and consolidated within FairShip/muonDIS, ensuring consistency for new productions.</li>
<li>Added a custom CrossSection branch to the simulation file to save the DIS cross sections from muonDIS.</li>
<li>Added new warm muon shield <code>warm_opt</code> in <a class="el" href="namespacegeometry__config.html">geometry_config</a></li>
<li>Added new parameters to muon shield to support configurations from current optimisation campaign</li>
<li>Added event_inspector class to experimental analysis_toolkit to streamline usage of helper functions; Added dump_event() as a start.</li>
<li>Add (optional) MgB2 field map</li>
<li><a class="el" href="classShipBFieldMap.html" title="Class that defines a (3d) magnetic field map (distances in cm, fields in tesla)">ShipBFieldMap</a>: Added LOG info and fatal</li>
<li>Folder <code>SND</code> is added for new versions of SND integrated to the Muon Shield</li>
<li>First version of <code>MTC</code> (<code>SND/MTC</code>) is introduced. Scint part is fully implemented, the Sci-Fi part is implemented in simplified version. Geometrical parameters of <code>MTC</code> are stored in <code>geometry/MTC_config.yaml</code> file</li>
<li>New key for <code><a class="el" href="run__simScript_8py.html">macro/run_simScript.py</a></code> for choosing SND options is added: <code>--SND_design</code></li>
<li>Geometry_config.py: Added MS design <code>New_HA_Design</code> based on the MS <code>warm_opt</code> with new version of HA</li>
<li>Add access to decoded numbers (stations, views etc.) of strawtubes hits</li>
<li>Add June 2025 target configuration</li>
<li>Definition of Pressured Helium for the target, two version 200 Celsius degree and 90 Celsius degree.</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Fixed</h2>
<ul>
<li>chore: Fix file endings</li>
<li>chore: trim trailing whitespace</li>
<li>Fix mismatch dimension cavern ECN3 TCC8</li>
<li>fix: use standard library to expand env</li>
<li>fix: autoload Pythia8 instead of manually loading in <a class="el" href="run__simScript_8py.html">run_simScript.py</a></li>
<li>fix(geometry): fix typo of "vacuums" for strawtubes medium</li>
<li>fix(reco): Fix segmentation fault due to dummy containers (#453, #519)</li>
<li>fix: don't use TFile's deprecated attribute syntax</li>
<li>fix(digi): Fix logic of SST digitisation (#662)</li>
<li>Fix double append of recognized stracks</li>
<li>fix(<a class="el" href="ShieldUtils_8py.html">ShieldUtils.py</a>): The fieldmap offset was calibrated with the old version of MS</li>
<li>fix(<a class="el" href="ShieldUtils_8py.html">ShieldUtils.py</a>): changing code to be more pythonic, adding new element in the output tuple &ndash; the list of the Muon Shield magnet z-coordinates, that can be used to set a location of SND inside the Muon Shield</li>
<li>fix(<a class="el" href="shipDet__conf_8py.html">shipDet_conf.py</a>): changing paths to yaml files to more pythonic (<code>os.path.join()</code> now)</li>
<li>Fix splitcal strip dimensions and number of modules</li>
<li>fix: Ensure the web viewer is disabled when checking for geometry overlaps (workaround for <a href="https://github.com/root-project/root/issues/18881">https://github.com/root-project/root/issues/18881</a>)</li>
<li>fix(EvtCalc): Fix crash due to string formatting</li>
<li>Fix: Field direction of first magnet section 2 was wrong</li>
<li>Fix: How the cavern is translated in z direction</li>
<li>Fix: Preliminary fix of the length of the <a class="el" href="classTarget.html">Target</a> (to be refine)</li>
<li>Fix: in <code><a class="el" href="ShieldUtils_8py.html">python/ShieldUtils.py</a></code> still used old coordinate system (SND was not correctly positioned in <code><a class="el" href="shipDet__conf_8py.html">python/shipDet_conf.py</a></code>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Changed</h2>
<ul>
<li>Don't special case EOS paths (fix #566)</li>
<li>Setting up the Muon shield geometry by ROOT files is completely replaced with the temporary solution of dict in the <code><a class="el" href="geometry__config_8py.html">geometry/geometry_config.py</a></code>.</li>
<li>Set up of the shield name is now done using the <code>--shieldName</code> flag instead of <code>--scName</code>.</li>
<li>Allow using standalone TPythia for use with ROOT 6.32+</li>
<li>Use git-lfs to track ROOT files</li>
<li><a class="el" href="namespaceshipDet__conf.html">shipDet_conf</a> behaviour no longer depends on the muon shield version.</li>
<li>feat(digi): Use STL vectors for SST digitisation</li>
<li>feat(digi): Use STL vectors for SBT digitisation</li>
<li>Change max x of stereo hits to match straw length</li>
<li>Get rid of straw diameter dependency in scale factor</li>
<li>Assume all tracks are muons during track fit (avoid using MC truth)</li>
<li>Change of UBT geometry, remove implementation of RPC and setting a new scoring plane of 4Ã—6 m</li>
<li>Allow specifying spectrometer field map</li>
<li>Obtain tauMuDet z position from muonshield position and length, instead of chamber trackers</li>
<li>Update tracker station z positions, fix UBT, <a class="el" href="classTimeDet.html">TimeDet</a> &amp; SplitCal position (s. integration layout EDMS 3287817 v1)</li>
<li>feat(geometry): Make SplitCal the default calorimeter</li>
<li>Resize SplitCal to 4Ã—6 mÂ²</li>
<li>feat(geometry): Define target configuration in yaml</li>
<li>strawtubes detID is now 7-digit! (without plane number)</li>
<li>Change strawtubes detID decode function to tuple output</li>
<li>Change separate constructions of tracker stations 1/2 and 3/4 to being identical</li>
<li><code>fWithConstShieldFiel</code> Defined as input flag for MS design in <code><a class="el" href="geometry__config_8py.html">geometry_config.py</a></code></li>
<li>MS design have B field as parameter</li>
<li>Changed the parametrization of the field in <code><a class="el" href="ShipMuonShield_8cxx.html">ShipMuonShield.cxx</a></code></li>
<li>Make the warm muon shield with new hadron absorber the default option</li>
<li>feat(geometry): Change coordinate system to z_0 := start of target</li>
<li>Insert Proximity shield in the geometry</li>
<li>Removed old stuff legacy in <code>shipMuonShield.cxx</code> (like LE and fFloor)</li>
<li>Event Display: Don't try to recreate geometry config</li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Removed</h2>
<ul>
<li>fix: Remove unused, unrunnable shipPatRec_prev.py</li>
<li>feat(geometry): Dropped support for old geometries without DecayVolumeMedium explicitly set(pre 24.11 release case).</li>
<li>MS: Removed old options 7, 9, 10</li>
<li>MS: Removed cobalt option</li>
<li>MS: Removed stepGeo option</li>
<li>MS: Removed the flag constant field in Absorber (HS) -&gt; fixed to 1.7 T</li>
<li>MS: <a class="el" href="run__simScript_8py.html">run_simScript.py</a>: The &ndash;noSC flag is removed, whether or not a configuration is SC hybrid depends on the config selected. Configurations are defined in the shield_db in <a class="el" href="geometry__config_8py.html">geometry_config.py</a></li>
<li>Removed old nuTauTargetDesign configurations from 0 to 2. Currently supported: 3 (2018, magnetized target) and 4 (Current, not magnetized target and spectrometer)</li>
<li>build(field,nutaudet): remove unnecessary ROOT_INCLUDE_DIR include</li>
<li>feat(geometry): Remove 2018, 2022 global designs</li>
<li><a class="el" href="run__simScript_8py.html">run_simScript.py</a>: remove &ndash;muShieldDesign flag</li>
<li>Remove unused straw veto station</li>
<li><a class="el" href="ShipAna_8py.html">ShipAna.py</a>: remove broken calorimetry</li>
<li>Remove strawtubes_single class</li>
<li>Removed outdated version <code>sc_v6</code> since it is not fitting in the Cavern (also in the build-run)</li>
<li>feat(geometry): remove TP liquid scintillator variables</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
25.01</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
Added</h2>
<ul>
<li>New analysis toolkit prototype added as part of the 'experimental' package.</li>
<li>Simple analysis example script now available in 'examples/'</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Fixed</h2>
<ul>
<li>Use ConstructedAt + std::swap to replace removed pythonization for TCA</li>
<li>Octant symmetry was incorrect for B_z when using field maps (reported and fixed by M. Ferro-Luzzi)</li>
<li>Tof calculation corrected in <a class="el" href="GenieGenerator_8cxx.html">GenieGenerator.cxx</a>, wrong units previously used.</li>
<li>Genfit measurements now give the correct detector ID</li>
<li>Fix TEvePointSetPrintOut</li>
<li>Event Display: Fix drawing of MC and Geo tracks</li>
<li>AddressOf is outdated function in ROOT, changed with addressof (in field/)</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Changed</h2>
<ul>
<li>Changed the dimension of the cave (ref. <a href="https://indico.cern.ch/event/1507466/contributions/6345273/attachments/3003438/5293503/Quick%20Update%20on%20FAIRSHIP%20geometry-1.pdf">https://indico.cern.ch/event/1507466/contributions/6345273/attachments/3003438/5293503/Quick%20Update%20on%20FAIRSHIP%20geometry-1.pdf</a>): 1) Updated dimensions of TCC8 and ECN3. 2) Added a step in ECN3. 3) Removed the coat of the absorber. 4) Modified the dimensions of the HA and absorber.</li>
<li>Set Decay Volume Medium as helium (previously vacuums),can be explicitly switched to vacuum with &ndash;vacuums.</li>
<li>Medium of SST boxes will be the same as DecayVolumeMedium (previously, always vacuum)</li>
<li>Don't prune tracks (before we were using the CFL option to Track::prune, see <a href="https://github.com/GenFit/GenFit/blob/e81adeb07c8643301a1d9f7ae25048557cc72dff/core/include/Track.h#L298">https://github.com/GenFit/GenFit/blob/e81adeb07c8643301a1d9f7ae25048557cc72dff/core/include/Track.h#L298</a>)</li>
<li><b>EventCalc LLP event generator</b> This modification to the EventCalc interface accommodates for generic N-body LLP decays.</li>
</ul>
<h2><a class="anchor" id="autotoc_md10"></a>
Removed</h2>
<ul>
<li>Remove Millepede</li>
<li>Remove outdated example shipEvent_ex.py</li>
<li>Remove ALPACA generator</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
24.11</h1>
<p>Release after first round of breaking changes. Requires CVMFS release â‰¥ 24.10. Tagged for launch of background simulations.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Added</h2>
<ul>
<li><b>EventCalc LLP event generator</b> This modification introduces a first implementation of the EventCalc decay event sampler in FairShip for inclusive final states. For further details, consult the dedicated presentation at the 30th SHiP CM <a href="https://indico.cern.ch/event/1448055/contributions/6142341/attachments/2939894/5165450/SHiP_collaboration_meeting_talk_MFerrillo.pdf">here</a>. See also #528.</li>
<li>Add a conversion script <code><a class="el" href="convertEvtCalc_8py.html">FairShip/macro/convertEvtCalc.py</a></code> to convert the EventCalc output sampled kinematics (.dat) as input to the simulation script (.root). <em>Remark</em>: This will eventually become unnecessary when this conversion is implemented within the EventCalc tool itself.</li>
</ul>
<h2><a class="anchor" id="autotoc_md13"></a>
Fixed</h2>
<ul>
<li>Fix missing includes in <a class="el" href="classecalMatch.html">ecalMatch</a> and <a class="el" href="classecalReco.html">ecalReco</a></li>
<li>Fix compilation warnings due to unused or uninitiliazed variables #481</li>
</ul>
<h2><a class="anchor" id="autotoc_md14"></a>
Changed</h2>
<ul>
<li><a class="el" href="namespaceshipStrawTracking.html">shipStrawTracking</a>: Move to argparse</li>
<li>CMake: Use external genfit2</li>
<li><a class="el" href="namespaceshipStrawTracking.html">shipStrawTracking</a>, <a class="el" href="namespaceshipDigiReco.html">shipDigiReco</a>, <a class="el" href="namespaceshipVertex.html">shipVertex</a>: Make compatible with current genfit</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Removed</h2>
<ul>
<li>Remove obsolete renaming scripts</li>
<li>Remove online, please see charmdet and muflux branches for respective versions</li>
<li>Remove charmdet, please see charmdet branch for latest version</li>
<li>Remove preshower and CaloDesign 1 (TP+Preshower)</li>
<li>Remove bundled genfit</li>
<li>Remove conditions DB, will almost certainly look different, copy in git history for reference</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
24.10 - Freiburg</h1>
<p>Tag release to prepare for breaking changes. Last release to include charm cross-section measurement code, and obsolete detector configurations.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Added</h2>
<ul>
<li>Add option for helium-filled decay volume</li>
<li>Add pre-commit config: This will be phased in to improve code quality and spot issues as early as possible. Status visible in README and CI enabled for new pull requests.</li>
<li>Add <a class="el" href="CHANGELOG_8md.html">CHANGELOG.md</a></li>
<li>Add <code>.git-blame-ignore-revs</code> to allow automatic reformatting etc. without polluting git blame</li>
<li>Automatically built documentation using Doxygen</li>
<li>Add CODEOWNERS file to automatically trigger reviews by the relevant experts</li>
<li>Add different configuration files for vacuum /helium for the Decay Vessel</li>
<li>Add option to enable/disable SND</li>
</ul>
<h2><a class="anchor" id="autotoc_md18"></a>
Fixed</h2>
<ul>
<li>Remove trailing whitespace and fix line endings</li>
<li>Fix compilation warnings due to deprecations #469</li>
<li>Fix issue with SST parameters #489</li>
<li>Cleaned up <a class="el" href="classVeto.html" title="Class representing the Veto detector.">Veto</a> Implementation</li>
<li>Fix crash of event display, PID when no entrance lid present</li>
<li>Close <a class="el" href="ShipReco_8py.html">ShipReco.py</a> output file</li>
<li>Remove unused (silently ignored!) argument for <a class="el" href="classMuDISGenerator.html#ae0adf0b9bdf68dbc0ec65b853d586bc4">MuDISGenerator::SetPositions</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md19"></a>
Changed</h2>
<ul>
<li>Update <a class="el" href="namespacegetGeoInformation.html">getGeoInformation</a> command line interface</li>
<li>Update SST geometry constants #483</li>
<li>Housekeeping: Use same clang-format and clang-tidy config as FairRoot</li>
<li>Decay Vessel configuration now imported from a yaml file</li>
<li>Geometry of Decay Vessel updated to new design</li>
<li>Housekeeping: Bump minimum CMake version to 3.12</li>
<li>Housekeeping: Use FairRoot's <code>find_package2</code> to find ROOT, VMC, fmt</li>
<li>Housekeeping: Bump minimum ROOT version to 6.26</li>
<li>Housekeeping: Use find_package to find BOOST</li>
<li>Housekeeping: Set FairLogger dep instead of manual includes</li>
</ul>
<h2><a class="anchor" id="autotoc_md20"></a>
Removed</h2>
<ul>
<li>Remove obsolete files related to old ways of installing or testing FairShip</li>
<li>Remove uses of future and past modules #473</li>
<li>Remove Geant3 dependency</li>
<li>Remove unimplemented event display functions (see #497)</li>
<li>Disable SND by default</li>
<li>Housekeeping: Don't use CMake commands no longer provided by FairRoot 19</li>
<li>Housekeeping: Remove old CMake for ROOT 5</li>
<li>Remove old, outdated tracking script </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
